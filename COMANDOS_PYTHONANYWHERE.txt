========================================
COPIA ESTOS COMANDOS EN PYTHONANYWHERE
========================================

1. Ve a https://www.pythonanywhere.com
2. Login con tu cuenta
3. Click en "Consoles" -> "Bash"
4. Copia y pega CADA comando (presiona ENTER despues de cada uno):

COMANDO 1:
cat > /home/rodrim_dev/sim_project/vehicles/views_vehicle_documents.py << 'EOF'
from django.views.generic import ListView
from django.contrib.auth.mixins import LoginRequiredMixin, PermissionRequiredMixin
from .models import Vehicle

class VehicleDocumentsView(LoginRequiredMixin, PermissionRequiredMixin, ListView):
    model = Vehicle
    template_name = 'vehicles/vehicle_documents.html'
    context_object_name = 'vehicles'
    permission_required = 'vehicles.view_document'
    
    def get_queryset(self):
        return Vehicle.objects.prefetch_related('documents__doc_type').all()
EOF

COMANDO 2:
cat > /home/rodrim_dev/sim_project/vehicles/views_employee_documents.py << 'EOF'
from django.views.generic import ListView
from django.contrib.auth.mixins import LoginRequiredMixin, PermissionRequiredMixin
from .models import Driver

class EmployeeDocumentsView(LoginRequiredMixin, PermissionRequiredMixin, ListView):
    model = Driver
    template_name = 'vehicles/employee_documents.html'
    context_object_name = 'drivers'
    permission_required = 'vehicles.view_driverdocument'
    
    def get_queryset(self):
        return Driver.objects.prefetch_related('documents').all()
EOF

COMANDO 3:
touch /var/www/rodrim_dev_pythonanywhere_com_wsgi.py

COMANDO 4 - Borrar sesiones:
cd /home/rodrim_dev/sim_project && python manage.py shell << 'EOF'
from django.contrib.sessions.models import Session
Session.objects.all().delete()
print("Sesiones borradas")
EOF

5. Cierra la consola
6. Ve a "Web" y click en "Reload"
7. Haz LOGOUT y LOGIN con rodrim_dev
8. Intenta entrar a Documentos Vehiculares - deberia dar error 403
